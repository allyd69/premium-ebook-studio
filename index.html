<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Ebook Studio | Cinematic Covers & Professional Templates</title>
    <meta name="description" content="Create stunning ebooks with AI-generated cinematic covers and premium formatting templates">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,400&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Cormorant Garamond', Georgia, serif;
            background: #0A0A0F;
            min-height: 100vh;
        }
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0D0D0D;
        }
        ::-webkit-scrollbar-thumb {
            background: #D4AF37;
            border-radius: 4px;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useCallback, useRef } = React;

        const PremiumEbookStudio = () => {
            const [activeTab, setActiveTab] = useState('cover');
            const [coverPrompt, setCoverPrompt] = useState('');
            const [generatedCover, setGeneratedCover] = useState(null);
            const [isGenerating, setIsGenerating] = useState(false);
            const [uploadedDoc, setUploadedDoc] = useState(null);
            const [selectedTemplate, setSelectedTemplate] = useState('luxury');
            const [ebookTitle, setEbookTitle] = useState('');
            const [ebookAuthor, setEbookAuthor] = useState('');
            const [chapters, setChapters] = useState([]);
            const [coverStyle, setCoverStyle] = useState('cinematic');
            const [generatedImages, setGeneratedImages] = useState([]);
            const [previewMode, setPreviewMode] = useState('fullbook');
            const [notification, setNotification] = useState(null);
            
            // NEW: Image upload and transparency
            const [uploadedCoverImage, setUploadedCoverImage] = useState(null);
            const [imageOpacity, setImageOpacity] = useState(100);
            const [overlayOpacity, setOverlayOpacity] = useState(50);
            const [imageSource, setImageSource] = useState('none'); // 'none', 'upload', 'ai'
            
            const fileInputRef = useRef(null);
            const imageInputRef = useRef(null);

            const templates = [
                { id: 'luxury', name: 'Luxury Edition', desc: 'Gold accents, elegant serif typography', color: '#D4AF37', gradient: 'linear-gradient(135deg, #D4AF37 0%, #F4E5B2 50%, #D4AF37 100%)' },
                { id: 'modern', name: 'Modern Minimal', desc: 'Clean lines, contemporary design', color: '#1a1a2e', gradient: 'linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)' },
                { id: 'creative', name: 'Creative Bold', desc: 'Vibrant colors, artistic flair', color: '#FF6B6B', gradient: 'linear-gradient(135deg, #FF6B6B 0%, #FF8E8E 100%)' },
                { id: 'professional', name: 'Professional', desc: 'Corporate, authoritative style', color: '#2C3E50', gradient: 'linear-gradient(135deg, #2C3E50 0%, #34495E 100%)' },
                { id: 'romantic', name: 'Romance', desc: 'Soft, elegant, emotional', color: '#E8B4BC', gradient: 'linear-gradient(135deg, #E8B4BC 0%, #F5D0D5 100%)' },
                { id: 'thriller', name: 'Thriller Dark', desc: 'Moody, suspenseful atmosphere', color: '#0D0D0D', gradient: 'linear-gradient(135deg, #0D0D0D 0%, #1a1a1a 50%, #2d2d2d 100%)' },
            ];

            const coverStyles = [
                { id: 'cinematic', name: 'Cinematic', icon: 'üé¨', desc: 'Movie-poster quality with dramatic lighting' },
                { id: 'photorealistic', name: 'Photorealistic', icon: 'üì∑', desc: 'Ultra-realistic photography style' },
                { id: 'artistic', name: 'Artistic', icon: 'üé®', desc: 'Painterly, illustrated aesthetic' },
                { id: 'minimalist', name: 'Minimalist', icon: '‚óªÔ∏è', desc: 'Clean, simple, elegant design' },
                { id: 'vintage', name: 'Vintage', icon: 'üìú', desc: 'Classic, timeless appeal' },
                { id: 'fantasy', name: 'Fantasy', icon: '‚ú®', desc: 'Magical, otherworldly imagery' },
            ];

            const showNotification = (message, type = 'success') => {
                setNotification({ message, type });
                setTimeout(() => setNotification(null), 3000);
            };

            // Handle document upload
            const handleFileUpload = useCallback((e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        const content = event.target.result;
                        setUploadedDoc({
                            name: file.name,
                            content: content,
                            size: (file.size / 1024).toFixed(2) + ' KB',
                            type: file.type
                        });
                        
                        // Parse content for chapters
                        const lines = content.split('\n');
                        const detectedChapters = [];
                        let currentChapter = null;
                        let wordCount = 0;
                        
                        lines.forEach((line) => {
                            const chapterMatch = line.match(/^(Chapter|CHAPTER|Part|PART)\s*(\d+|[IVXLC]+)/i);
                            if (chapterMatch || line.match(/^#{1,2}\s+/)) {
                                if (currentChapter) {
                                    currentChapter.wordCount = wordCount;
                                    detectedChapters.push(currentChapter);
                                }
                                currentChapter = {
                                    id: detectedChapters.length + 1,
                                    title: line.replace(/^#+\s*/, '').trim() || `Chapter ${detectedChapters.length + 1}`,
                                    wordCount: 0
                                };
                                wordCount = 0;
                            } else {
                                wordCount += line.split(/\s+/).filter(w => w.length > 0).length;
                            }
                        });
                        
                        if (currentChapter) {
                            currentChapter.wordCount = wordCount;
                            detectedChapters.push(currentChapter);
                        }
                        
                        if (detectedChapters.length === 0) {
                            const totalWords = content.split(/\s+/).filter(w => w.length > 0).length;
                            detectedChapters.push({
                                id: 1,
                                title: 'Full Document',
                                wordCount: totalWords
                            });
                        }
                        
                        setChapters(detectedChapters);
                        showNotification(`Document uploaded: ${detectedChapters.length} section(s) detected`);
                    };
                    reader.readAsText(file);
                }
            }, []);

            // NEW: Handle cover image upload
            const handleImageUpload = useCallback((e) => {
                const file = e.target.files[0];
                if (file) {
                    // Check if it's an image
                    if (!file.type.startsWith('image/')) {
                        showNotification('Please upload an image file (JPG, PNG, GIF, WebP, etc.)', 'error');
                        return;
                    }
                    
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        setUploadedCoverImage({
                            url: event.target.result,
                            name: file.name,
                            type: file.type,
                            size: (file.size / 1024).toFixed(2) + ' KB'
                        });
                        setImageSource('upload');
                        showNotification(`Image uploaded: ${file.name}`);
                    };
                    reader.readAsDataURL(file);
                }
            }, []);

            // Generate AI Cover
            const generateCover = async () => {
                if (!coverPrompt) {
                    showNotification('Please enter a cover description', 'error');
                    return;
                }
                
                setIsGenerating(true);
                
                try {
                    // Build enhanced prompt based on style
                    const styleEnhancements = {
                        cinematic: 'cinematic lighting, movie poster quality, dramatic atmosphere, 8k resolution',
                        photorealistic: 'ultra realistic photograph, professional photography, sharp details',
                        artistic: 'digital painting, artistic illustration, vibrant colors, brushstroke texture',
                        minimalist: 'minimalist design, clean composition, negative space, elegant simplicity',
                        vintage: 'vintage aesthetic, aged texture, sepia tones, classic style, retro feel',
                        fantasy: 'fantasy art, magical atmosphere, ethereal glow, mystical elements'
                    };
                    
                    const enhancedPrompt = `${coverPrompt}, ${styleEnhancements[coverStyle]}, book cover design`;
                    
                    // Simulate AI generation with delay
                    await new Promise(resolve => setTimeout(resolve, 3000));
                    
                    // Generate unique seed from prompt
                    const seed = enhancedPrompt.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
                    
                    const result = {
                        url: `https://picsum.photos/seed/${seed}/600/900`,
                        prompt: coverPrompt,
                        style: coverStyle,
                        timestamp: new Date().toISOString()
                    };
                    
                    setGeneratedCover(result);
                    setGeneratedImages(prev => [...prev, result]);
                    setImageSource('ai');
                    showNotification('AI Cover generated successfully!');
                } catch (error) {
                    showNotification('Error generating cover. Please try again.', 'error');
                } finally {
                    setIsGenerating(false);
                }
            };

            // Get current cover image URL
            const getCurrentCoverImage = () => {
                if (imageSource === 'upload' && uploadedCoverImage) {
                    return uploadedCoverImage.url;
                } else if (imageSource === 'ai' && generatedCover) {
                    return generatedCover.url;
                }
                return null;
            };

            const exportEbook = (format) => {
                showNotification(`Preparing ${format.toUpperCase()} export...`);
                setTimeout(() => {
                    showNotification(`${format.toUpperCase()} ready for download!`);
                }, 2000);
            };

            const TabButton = ({ id, label, icon }) => (
                <button
                    onClick={() => setActiveTab(id)}
                    style={{
                        padding: '16px 24px',
                        border: 'none',
                        background: activeTab === id ? 'linear-gradient(135deg, #D4AF37 0%, #F4E5B2 50%, #D4AF37 100%)' : 'transparent',
                        color: activeTab === id ? '#0D0D0D' : '#A0A0A0',
                        fontSize: '13px',
                        fontWeight: '600',
                        letterSpacing: '2px',
                        textTransform: 'uppercase',
                        cursor: 'pointer',
                        transition: 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)',
                        fontFamily: "'Cormorant Garamond', Georgia, serif",
                        borderRadius: activeTab === id ? '4px' : '0',
                    }}
                >
                    <span style={{ marginRight: '8px' }}>{icon}</span>
                    {label}
                </button>
            );

            // Book Cover Component
            const BookCover = ({ size = 'large' }) => {
                const coverImage = getCurrentCoverImage();
                const isLarge = size === 'large';
                const width = isLarge ? 280 : 200;
                const height = isLarge ? 420 : 300;
                
                return (
                    <div style={{
                        width: `${width}px`,
                        height: `${height}px`,
                        background: coverImage 
                            ? 'transparent'
                            : 'linear-gradient(145deg, #252530 0%, #1a1a22 100%)',
                        borderRadius: '4px',
                        boxShadow: '20px 20px 60px rgba(0,0,0,0.5), -5px -5px 20px rgba(212, 175, 55, 0.05)',
                        position: 'relative',
                        overflow: 'hidden',
                    }}>
                        {/* Cover Image */}
                        {coverImage && (
                            <img 
                                src={coverImage}
                                alt="Cover"
                                style={{
                                    position: 'absolute',
                                    top: 0,
                                    left: 0,
                                    width: '100%',
                                    height: '100%',
                                    objectFit: 'cover',
                                    opacity: imageOpacity / 100,
                                }}
                            />
                        )}
                        
                        {/* Top Gold Bar */}
                        <div style={{
                            position: 'absolute',
                            top: 0,
                            left: 0,
                            right: 0,
                            height: '6px',
                            background: 'linear-gradient(90deg, #D4AF37, #F4E5B2, #D4AF37)',
                            zIndex: 10,
                        }} />
                        
                        {/* Text Overlay */}
                        <div style={{
                            position: 'absolute',
                            top: 0,
                            left: 0,
                            right: 0,
                            bottom: 0,
                            background: coverImage 
                                ? `linear-gradient(180deg, rgba(0,0,0,${overlayOpacity/100}) 0%, transparent 30%, transparent 70%, rgba(0,0,0,${overlayOpacity/100 + 0.2}) 100%)`
                                : 'transparent',
                            padding: isLarge ? '30px 25px' : '20px 15px',
                            display: 'flex',
                            flexDirection: 'column',
                            justifyContent: 'space-between',
                            zIndex: 5,
                        }}>
                            {coverImage || ebookTitle ? (
                                <>
                                    <div style={{ textAlign: 'center', marginTop: isLarge ? '40px' : '25px' }}>
                                        <div style={{
                                            fontSize: isLarge ? '11px' : '9px',
                                            letterSpacing: '3px',
                                            color: '#D4AF37',
                                            marginBottom: '15px',
                                            textTransform: 'uppercase',
                                            textShadow: '0 2px 10px rgba(0,0,0,0.8)',
                                        }}>
                                            {coverStyle} Edition
                                        </div>
                                        <h3 style={{
                                            fontSize: isLarge ? '24px' : '18px',
                                            fontWeight: '400',
                                            color: '#FFFFFF',
                                            lineHeight: '1.3',
                                            margin: 0,
                                            textShadow: '0 2px 20px rgba(0,0,0,0.9)',
                                        }}>
                                            {ebookTitle || 'Your Title'}
                                        </h3>
                                    </div>
                                    <div style={{ textAlign: 'center' }}>
                                        <div style={{
                                            width: '50px',
                                            height: '1px',
                                            background: 'linear-gradient(90deg, transparent, #D4AF37, transparent)',
                                            margin: '0 auto 15px',
                                        }} />
                                        <p style={{
                                            fontSize: isLarge ? '14px' : '11px',
                                            letterSpacing: '2px',
                                            color: '#E0E0E0',
                                            margin: 0,
                                            textTransform: 'uppercase',
                                            textShadow: '0 2px 10px rgba(0,0,0,0.8)',
                                        }}>
                                            {ebookAuthor || 'Author Name'}
                                        </p>
                                    </div>
                                </>
                            ) : (
                                <div style={{
                                    display: 'flex',
                                    flexDirection: 'column',
                                    alignItems: 'center',
                                    justifyContent: 'center',
                                    height: '100%',
                                    color: '#505060',
                                }}>
                                    <div style={{ 
                                        fontSize: isLarge ? '48px' : '32px', 
                                        marginBottom: '20px', 
                                        opacity: 0.5,
                                        animation: 'float 3s ease-in-out infinite',
                                    }}>
                                        üìö
                                    </div>
                                    <p style={{
                                        fontSize: '12px',
                                        letterSpacing: '2px',
                                        textTransform: 'uppercase',
                                        textAlign: 'center',
                                    }}>
                                        Add an image<br />to see preview
                                    </p>
                                </div>
                            )}
                        </div>
                    </div>
                );
            };

            return (
                <div style={{
                    minHeight: '100vh',
                    background: 'linear-gradient(180deg, #0A0A0F 0%, #151520 50%, #0D0D12 100%)',
                    fontFamily: "'Cormorant Garamond', Georgia, serif",
                    color: '#E8E8E8',
                    position: 'relative',
                    overflow: 'hidden',
                }}>
                    {/* Notification */}
                    {notification && (
                        <div style={{
                            position: 'fixed',
                            top: '20px',
                            right: '20px',
                            padding: '16px 24px',
                            background: notification.type === 'error' 
                                ? 'linear-gradient(135deg, #8B0000 0%, #5C0000 100%)'
                                : 'linear-gradient(135deg, #D4AF37 0%, #AA8C2C 100%)',
                            color: notification.type === 'error' ? '#FFF' : '#0D0D0D',
                            borderRadius: '4px',
                            boxShadow: '0 10px 40px rgba(0,0,0,0.4)',
                            zIndex: 1000,
                            animation: 'fadeIn 0.3s ease',
                            fontWeight: '600',
                            letterSpacing: '1px',
                        }}>
                            {notification.message}
                        </div>
                    )}

                    {/* Header */}
                    <header style={{
                        padding: '30px 20px',
                        borderBottom: '1px solid rgba(212, 175, 55, 0.15)',
                        background: 'rgba(10, 10, 15, 0.8)',
                        backdropFilter: 'blur(20px)',
                        position: 'relative',
                        zIndex: 10,
                    }}>
                        <div style={{
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'space-between',
                            maxWidth: '1400px',
                            margin: '0 auto',
                            flexWrap: 'wrap',
                            gap: '20px',
                        }}>
                            <div>
                                <h1 style={{
                                    fontSize: 'clamp(20px, 4vw, 28px)',
                                    fontWeight: '300',
                                    letterSpacing: '6px',
                                    textTransform: 'uppercase',
                                    background: 'linear-gradient(135deg, #D4AF37 0%, #F4E5B2 40%, #D4AF37 80%, #AA8C2C 100%)',
                                    WebkitBackgroundClip: 'text',
                                    WebkitTextFillColor: 'transparent',
                                    backgroundClip: 'text',
                                    margin: 0,
                                }}>
                                    Premium Ebook Studio
                                </h1>
                                <p style={{
                                    fontSize: '11px',
                                    letterSpacing: '3px',
                                    color: '#707070',
                                    marginTop: '6px',
                                    textTransform: 'uppercase',
                                }}>
                                    AI Covers ‚Ä¢ Image Upload ‚Ä¢ Premium Templates
                                </p>
                            </div>
                            <button 
                                onClick={() => exportEbook('pdf')}
                                style={{
                                    padding: '14px 28px',
                                    background: 'linear-gradient(135deg, #D4AF37 0%, #AA8C2C 100%)',
                                    border: 'none',
                                    color: '#0D0D0D',
                                    fontSize: '12px',
                                    letterSpacing: '2px',
                                    textTransform: 'uppercase',
                                    cursor: 'pointer',
                                    fontFamily: 'inherit',
                                    fontWeight: '600',
                                }}
                            >
                                Export Ebook
                            </button>
                        </div>
                    </header>

                    {/* Navigation Tabs */}
                    <nav style={{
                        display: 'flex',
                        justifyContent: 'center',
                        gap: '4px',
                        padding: '20px 10px',
                        background: 'rgba(15, 15, 20, 0.6)',
                        borderBottom: '1px solid rgba(212, 175, 55, 0.1)',
                        flexWrap: 'wrap',
                    }}>
                        <TabButton id="cover" label="Cover Design" icon="üìñ" />
                        <TabButton id="upload" label="Upload Draft" icon="üì§" />
                        <TabButton id="template" label="Templates" icon="‚ú®" />
                        <TabButton id="preview" label="Preview" icon="üëÅ" />
                    </nav>

                    {/* Main Content */}
                    <main style={{
                        maxWidth: '1400px',
                        margin: '0 auto',
                        padding: '40px 20px',
                    }}>
                        
                        {/* ==================== COVER DESIGN TAB ==================== */}
                        {activeTab === 'cover' && (
                            <div style={{ animation: 'fadeIn 0.5s ease' }}>
                                <div style={{
                                    display: 'grid',
                                    gridTemplateColumns: 'repeat(auto-fit, minmax(350px, 1fr))',
                                    gap: '40px',
                                }}>
                                    
                                    {/* LEFT COLUMN - Image Options */}
                                    <div>
                                        {/* UPLOAD YOUR OWN IMAGE */}
                                        <div style={{
                                            background: 'linear-gradient(145deg, rgba(20, 20, 28, 0.9) 0%, rgba(15, 15, 22, 0.95) 100%)',
                                            border: '2px solid rgba(212, 175, 55, 0.3)',
                                            borderRadius: '8px',
                                            padding: '30px',
                                            marginBottom: '25px',
                                        }}>
                                            <h2 style={{
                                                fontSize: '18px',
                                                letterSpacing: '3px',
                                                textTransform: 'uppercase',
                                                color: '#D4AF37',
                                                marginBottom: '20px',
                                                fontWeight: '400',
                                                display: 'flex',
                                                alignItems: 'center',
                                                gap: '10px',
                                            }}>
                                                üì∑ Upload Your Image
                                            </h2>
                                            
                                            <input
                                                ref={imageInputRef}
                                                type="file"
                                                accept="image/*"
                                                onChange={handleImageUpload}
                                                style={{ display: 'none' }}
                                            />
                                            
                                            <div 
                                                onClick={() => imageInputRef.current?.click()}
                                                style={{
                                                    border: '2px dashed rgba(212, 175, 55, 0.4)',
                                                    borderRadius: '8px',
                                                    padding: '30px 20px',
                                                    textAlign: 'center',
                                                    cursor: 'pointer',
                                                    background: 'rgba(212, 175, 55, 0.03)',
                                                    transition: 'all 0.3s ease',
                                                }}
                                            >
                                                <div style={{ fontSize: '36px', marginBottom: '10px' }}>üñºÔ∏è</div>
                                                <p style={{ color: '#D4AF37', fontSize: '14px', marginBottom: '5px' }}>
                                                    Click to upload image
                                                </p>
                                                <p style={{ color: '#606060', fontSize: '11px' }}>
                                                    JPG, PNG, GIF, WebP, SVG, BMP, TIFF
                                                </p>
                                            </div>
                                            
                                            {uploadedCoverImage && (
                                                <div style={{
                                                    marginTop: '15px',
                                                    padding: '12px',
                                                    background: 'rgba(212, 175, 55, 0.1)',
                                                    borderRadius: '4px',
                                                    display: 'flex',
                                                    alignItems: 'center',
                                                    justifyContent: 'space-between',
                                                }}>
                                                    <div>
                                                        <p style={{ color: '#D4AF37', fontSize: '13px', margin: 0 }}>
                                                            ‚úì {uploadedCoverImage.name}
                                                        </p>
                                                        <p style={{ color: '#707070', fontSize: '11px', margin: '3px 0 0 0' }}>
                                                            {uploadedCoverImage.size}
                                                        </p>
                                                    </div>
                                                    <button
                                                        onClick={() => {
                                                            setImageSource('upload');
                                                            showNotification('Using uploaded image');
                                                        }}
                                                        style={{
                                                            padding: '8px 16px',
                                                            background: imageSource === 'upload' 
                                                                ? 'linear-gradient(135deg, #D4AF37 0%, #AA8C2C 100%)'
                                                                : 'transparent',
                                                            border: '1px solid rgba(212, 175, 55, 0.5)',
                                                            borderRadius: '4px',
                                                            color: imageSource === 'upload' ? '#0D0D0D' : '#D4AF37',
                                                            fontSize: '10px',
                                                            letterSpacing: '1px',
                                                            textTransform: 'uppercase',
                                                            cursor: 'pointer',
                                                            fontFamily: 'inherit',
                                                        }}
                                                    >
                                                        {imageSource === 'upload' ? '‚úì Using' : 'Use This'}
                                                    </button>
                                                </div>
                                            )}
                                        </div>

                                        {/* AI IMAGE GENERATION */}
                                        <div style={{
                                            background: 'linear-gradient(145deg, rgba(20, 20, 28, 0.9) 0%, rgba(15, 15, 22, 0.95) 100%)',
                                            border: '1px solid rgba(212, 175, 55, 0.2)',
                                            borderRadius: '8px',
                                            padding: '30px',
                                            marginBottom: '25px',
                                        }}>
                                            <h2 style={{
                                                fontSize: '18px',
                                                letterSpacing: '3px',
                                                textTransform: 'uppercase',
                                                color: '#D4AF37',
                                                marginBottom: '20px',
                                                fontWeight: '400',
                                                display: 'flex',
                                                alignItems: 'center',
                                                gap: '10px',
                                            }}>
                                                üé¨ AI Generate Cover
                                            </h2>

                                            {/* Style Selection */}
                                            <div style={{ marginBottom: '20px' }}>
                                                <label style={{
                                                    display: 'block',
                                                    fontSize: '11px',
                                                    letterSpacing: '2px',
                                                    textTransform: 'uppercase',
                                                    color: '#808080',
                                                    marginBottom: '10px',
                                                }}>
                                                    AI Style
                                                </label>
                                                <div style={{
                                                    display: 'grid',
                                                    gridTemplateColumns: 'repeat(3, 1fr)',
                                                    gap: '8px',
                                                }}>
                                                    {coverStyles.map(style => (
                                                        <button
                                                            key={style.id}
                                                            onClick={() => setCoverStyle(style.id)}
                                                            style={{
                                                                padding: '12px 8px',
                                                                background: coverStyle === style.id 
                                                                    ? 'rgba(212, 175, 55, 0.2)'
                                                                    : 'rgba(30, 30, 40, 0.5)',
                                                                border: coverStyle === style.id 
                                                                    ? '1px solid rgba(212, 175, 55, 0.5)'
                                                                    : '1px solid rgba(80, 80, 100, 0.3)',
                                                                borderRadius: '4px',
                                                                color: coverStyle === style.id ? '#D4AF37' : '#909090',
                                                                fontSize: '11px',
                                                                cursor: 'pointer',
                                                                fontFamily: 'inherit',
                                                                textAlign: 'center',
                                                            }}
                                                        >
                                                            <div style={{ fontSize: '18px', marginBottom: '4px' }}>{style.icon}</div>
                                                            {style.name}
                                                        </button>
                                                    ))}
                                                </div>
                                            </div>

                                            {/* Prompt Input */}
                                            <div style={{ marginBottom: '15px' }}>
                                                <label style={{
                                                    display: 'block',
                                                    fontSize: '11px',
                                                    letterSpacing: '2px',
                                                    textTransform: 'uppercase',
                                                    color: '#808080',
                                                    marginBottom: '8px',
                                                }}>
                                                    Describe Your Cover
                                                </label>
                                                <textarea
                                                    value={coverPrompt}
                                                    onChange={(e) => setCoverPrompt(e.target.value)}
                                                    placeholder="e.g., A woman standing on a cliff at sunset, dramatic clouds, golden light..."
                                                    rows={3}
                                                    style={{
                                                        width: '100%',
                                                        padding: '14px',
                                                        background: 'rgba(20, 20, 30, 0.8)',
                                                        border: '1px solid rgba(100, 100, 120, 0.3)',
                                                        borderRadius: '4px',
                                                        color: '#E8E8E8',
                                                        fontSize: '14px',
                                                        fontFamily: 'inherit',
                                                        outline: 'none',
                                                        resize: 'vertical',
                                                        boxSizing: 'border-box',
                                                    }}
                                                />
                                            </div>

                                            {/* Quick Prompts */}
                                            <div style={{ marginBottom: '15px' }}>
                                                <div style={{ display: 'flex', flexWrap: 'wrap', gap: '6px' }}>
                                                    {['Sunset mountains', 'Mysterious forest', 'Ocean waves', 'City night', 'Romantic garden'].map(prompt => (
                                                        <button
                                                            key={prompt}
                                                            onClick={() => setCoverPrompt(prompt)}
                                                            style={{
                                                                padding: '6px 10px',
                                                                background: 'rgba(30, 30, 40, 0.6)',
                                                                border: '1px solid rgba(80, 80, 100, 0.3)',
                                                                borderRadius: '15px',
                                                                color: '#808080',
                                                                fontSize: '10px',
                                                                cursor: 'pointer',
                                                                fontFamily: 'inherit',
                                                            }}
                                                        >
                                                            {prompt}
                                                        </button>
                                                    ))}
                                                </div>
                                            </div>

                                            {/* Generate Button */}
                                            <button
                                                onClick={generateCover}
                                                disabled={isGenerating || !coverPrompt}
                                                style={{
                                                    width: '100%',
                                                    padding: '16px',
                                                    background: isGenerating 
                                                        ? 'linear-gradient(90deg, #444 0%, #555 50%, #444 100%)'
                                                        : 'linear-gradient(135deg, #D4AF37 0%, #AA8C2C 100%)',
                                                    backgroundSize: isGenerating ? '200% 100%' : '100% 100%',
                                                    animation: isGenerating ? 'shimmer 1.5s infinite' : 'none',
                                                    border: 'none',
                                                    borderRadius: '4px',
                                                    color: '#0D0D0D',
                                                    fontSize: '13px',
                                                    letterSpacing: '2px',
                                                    textTransform: 'uppercase',
                                                    cursor: isGenerating ? 'wait' : 'pointer',
                                                    fontFamily: 'inherit',
                                                    fontWeight: '600',
                                                    opacity: !coverPrompt ? 0.5 : 1,
                                                }}
                                            >
                                                {isGenerating ? (
                                                    <span>‚è≥ Generating AI Cover...</span>
                                                ) : (
                                                    <span>‚ú¶ Generate AI Cover</span>
                                                )}
                                            </button>

                                            {/* Generated Images History */}
                                            {generatedImages.length > 0 && (
                                                <div style={{ marginTop: '15px' }}>
                                                    <p style={{ fontSize: '10px', color: '#606060', letterSpacing: '1px', marginBottom: '8px', textTransform: 'uppercase' }}>
                                                        Previous Generations:
                                                    </p>
                                                    <div style={{ display: 'flex', gap: '8px', overflowX: 'auto', paddingBottom: '5px' }}>
                                                        {generatedImages.slice(-5).map((img, idx) => (
                                                            <div
                                                                key={idx}
                                                                onClick={() => {
                                                                    setGeneratedCover(img);
                                                                    setImageSource('ai');
                                                                }}
                                                                style={{
                                                                    width: '50px',
                                                                    height: '70px',
                                                                    background: `url(${img.url}) center/cover`,
                                                                    borderRadius: '4px',
                                                                    cursor: 'pointer',
                                                                    border: generatedCover?.timestamp === img.timestamp && imageSource === 'ai'
                                                                        ? '2px solid #D4AF37'
                                                                        : '2px solid transparent',
                                                                    flexShrink: 0,
                                                                }}
                                                            />
                                                        ))}
                                                    </div>
                                                </div>
                                            )}
                                        </div>

                                        {/* TRANSPARENCY CONTROLS */}
                                        <div style={{
                                            background: 'linear-gradient(145deg, rgba(20, 20, 28, 0.9) 0%, rgba(15, 15, 22, 0.95) 100%)',
                                            border: '1px solid rgba(212, 175, 55, 0.2)',
                                            borderRadius: '8px',
                                            padding: '30px',
                                        }}>
                                            <h2 style={{
                                                fontSize: '18px',
                                                letterSpacing: '3px',
                                                textTransform: 'uppercase',
                                                color: '#D4AF37',
                                                marginBottom: '20px',
                                                fontWeight: '400',
                                                display: 'flex',
                                                alignItems: 'center',
                                                gap: '10px',
                                            }}>
                                                üéöÔ∏è Image Controls
                                            </h2>

                                            {/* Image Opacity */}
                                            <div style={{ marginBottom: '20px' }}>
                                                <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>
                                                    <label style={{
                                                        fontSize: '12px',
                                                        color: '#A0A0A0',
                                                    }}>
                                                        Image Opacity
                                                    </label>
                                                    <span style={{ fontSize: '12px', color: '#D4AF37' }}>{imageOpacity}%</span>
                                                </div>
                                                <input
                                                    type="range"
                                                    min="0"
                                                    max="100"
                                                    value={imageOpacity}
                                                    onChange={(e) => setImageOpacity(Number(e.target.value))}
                                                    style={{
                                                        width: '100%',
                                                        accentColor: '#D4AF37',
                                                        cursor: 'pointer',
                                                    }}
                                                />
                                            </div>

                                            {/* Text Overlay Opacity */}
                                            <div>
                                                <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>
                                                    <label style={{
                                                        fontSize: '12px',
                                                        color: '#A0A0A0',
                                                    }}>
                                                        Text Overlay Darkness
                                                    </label>
                                                    <span style={{ fontSize: '12px', color: '#D4AF37' }}>{overlayOpacity}%</span>
                                                </div>
                                                <input
                                                    type="range"
                                                    min="0"
                                                    max="100"
                                                    value={overlayOpacity}
                                                    onChange={(e) => setOverlayOpacity(Number(e.target.value))}
                                                    style={{
                                                        width: '100%',
                                                        accentColor: '#D4AF37',
                                                        cursor: 'pointer',
                                                    }}
                                                />
                                            </div>
                                        </div>
                                    </div>

                                    {/* RIGHT COLUMN - Preview & Details */}
                                    <div>
                                        {/* Book Details */}
                                        <div style={{
                                            background: 'linear-gradient(145deg, rgba(20, 20, 28, 0.9) 0%, rgba(15, 15, 22, 0.95) 100%)',
                                            border: '1px solid rgba(212, 175, 55, 0.2)',
                                            borderRadius: '8px',
                                            padding: '30px',
                                            marginBottom: '25px',
                                        }}>
                                            <h2 style={{
                                                fontSize: '18px',
                                                letterSpacing: '3px',
                                                textTransform: 'uppercase',
                                                color: '#D4AF37',
                                                marginBottom: '20px',
                                                fontWeight: '400',
                                            }}>
                                                üìù Book Details
                                            </h2>

                                            <div style={{ marginBottom: '15px' }}>
                                                <label style={{
                                                    display: 'block',
                                                    fontSize: '11px',
                                                    letterSpacing: '2px',
                                                    textTransform: 'uppercase',
                                                    color: '#808080',
                                                    marginBottom: '8px',
                                                }}>
                                                    Book Title
                                                </label>
                                                <input
                                                    type="text"
                                                    value={ebookTitle}
                                                    onChange={(e) => setEbookTitle(e.target.value)}
                                                    placeholder="Enter your book title..."
                                                    style={{
                                                        width: '100%',
                                                        padding: '14px',
                                                        background: 'rgba(20, 20, 30, 0.8)',
                                                        border: '1px solid rgba(100, 100, 120, 0.3)',
                                                        borderRadius: '4px',
                                                        color: '#E8E8E8',
                                                        fontSize: '15px',
                                                        fontFamily: 'inherit',
                                                        outline: 'none',
                                                        boxSizing: 'border-box',
                                                    }}
                                                />
                                            </div>

                                            <div>
                                                <label style={{
                                                    display: 'block',
                                                    fontSize: '11px',
                                                    letterSpacing: '2px',
                                                    textTransform: 'uppercase',
                                                    color: '#808080',
                                                    marginBottom: '8px',
                                                }}>
                                                    Author Name
                                                </label>
                                                <input
                                                    type="text"
                                                    value={ebookAuthor}
                                                    onChange={(e) => setEbookAuthor(e.target.value)}
                                                    placeholder="Author name..."
                                                    style={{
                                                        width: '100%',
                                                        padding: '14px',
                                                        background: 'rgba(20, 20, 30, 0.8)',
                                                        border: '1px solid rgba(100, 100, 120, 0.3)',
                                                        borderRadius: '4px',
                                                        color: '#E8E8E8',
                                                        fontSize: '15px',
                                                        fontFamily: 'inherit',
                                                        outline: 'none',
                                                        boxSizing: 'border-box',
                                                    }}
                                                />
                                            </div>
                                        </div>

                                        {/* Cover Preview */}
                                        <div style={{
                                            background: 'linear-gradient(145deg, rgba(20, 20, 28, 0.9) 0%, rgba(15, 15, 22, 0.95) 100%)',
                                            border: '1px solid rgba(212, 175, 55, 0.2)',
                                            borderRadius: '8px',
                                            padding: '30px',
                                            display: 'flex',
                                            flexDirection: 'column',
                                            alignItems: 'center',
                                        }}>
                                            <h2 style={{
                                                fontSize: '18px',
                                                letterSpacing: '3px',
                                                textTransform: 'uppercase',
                                                color: '#D4AF37',
                                                marginBottom: '25px',
                                                fontWeight: '400',
                                                alignSelf: 'flex-start',
                                            }}>
                                                üëÅÔ∏è Live Preview
                                            </h2>

                                            <BookCover size="large" />

                                            {/* Current Source Indicator */}
                                            <div style={{
                                                marginTop: '20px',
                                                padding: '10px 20px',
                                                background: 'rgba(212, 175, 55, 0.1)',
                                                borderRadius: '20px',
                                                fontSize: '11px',
                                                color: '#D4AF37',
                                                letterSpacing: '1px',
                                                textTransform: 'uppercase',
                                            }}>
                                                {imageSource === 'upload' ? 'üì∑ Using Uploaded Image' : 
                                                 imageSource === 'ai' ? 'üé¨ Using AI Generated' : 
                                                 'üìö No Image Selected'}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* ==================== UPLOAD DRAFT TAB ==================== */}
                        {activeTab === 'upload' && (
                            <div style={{ animation: 'fadeIn 0.5s ease' }}>
                                <div style={{
                                    display: 'grid',
                                    gridTemplateColumns: 'repeat(auto-fit, minmax(350px, 1fr))',
                                    gap: '40px',
                                }}>
                                    {/* Upload Panel */}
                                    <div style={{
                                        background: 'linear-gradient(145deg, rgba(20, 20, 28, 0.9) 0%, rgba(15, 15, 22, 0.95) 100%)',
                                        border: '1px solid rgba(212, 175, 55, 0.2)',
                                        borderRadius: '8px',
                                        padding: '30px',
                                    }}>
                                        <h2 style={{
                                            fontSize: '18px',
                                            letterSpacing: '3px',
                                            textTransform: 'uppercase',
                                            color: '#D4AF37',
                                            marginBottom: '25px',
                                            fontWeight: '400',
                                        }}>
                                            Upload Your Manuscript
                                        </h2>

                                        <input
                                            ref={fileInputRef}
                                            type="file"
                                            accept=".txt,.doc,.docx,.rtf,.md"
                                            onChange={handleFileUpload}
                                            style={{ display: 'none' }}
                                        />

                                        <div 
                                            onClick={() => fileInputRef.current?.click()}
                                            style={{
                                                border: '2px dashed rgba(212, 175, 55, 0.4)',
                                                borderRadius: '8px',
                                                padding: '50px 30px',
                                                textAlign: 'center',
                                                cursor: 'pointer',
                                                background: 'rgba(212, 175, 55, 0.03)',
                                            }}
                                        >
                                            <div style={{ fontSize: '48px', marginBottom: '15px' }}>üìÑ</div>
                                            <p style={{ color: '#D4AF37', fontSize: '16px', marginBottom: '8px' }}>
                                                Click to upload manuscript
                                            </p>
                                            <p style={{ color: '#707070', fontSize: '12px' }}>
                                                TXT, DOC, DOCX, RTF, Markdown
                                            </p>
                                        </div>

                                        {uploadedDoc && (
                                            <div style={{
                                                marginTop: '20px',
                                                padding: '15px',
                                                background: 'rgba(212, 175, 55, 0.1)',
                                                borderRadius: '4px',
                                            }}>
                                                <p style={{ color: '#D4AF37', fontSize: '14px', margin: '0 0 5px 0' }}>
                                                    ‚úì {uploadedDoc.name}
                                                </p>
                                                <p style={{ color: '#707070', fontSize: '12px', margin: 0 }}>
                                                    {uploadedDoc.size}
                                                </p>
                                            </div>
                                        )}
                                    </div>

                                    {/* Chapters Panel */}
                                    <div style={{
                                        background: 'linear-gradient(145deg, rgba(20, 20, 28, 0.9) 0%, rgba(15, 15, 22, 0.95) 100%)',
                                        border: '1px solid rgba(212, 175, 55, 0.2)',
                                        borderRadius: '8px',
                                        padding: '30px',
                                    }}>
                                        <h2 style={{
                                            fontSize: '18px',
                                            letterSpacing: '3px',
                                            textTransform: 'uppercase',
                                            color: '#D4AF37',
                                            marginBottom: '25px',
                                            fontWeight: '400',
                                        }}>
                                            Document Structure
                                        </h2>

                                        {chapters.length > 0 ? (
                                            <div>
                                                <div style={{
                                                    display: 'flex',
                                                    justifyContent: 'space-between',
                                                    marginBottom: '15px',
                                                    padding: '12px 15px',
                                                    background: 'rgba(212, 175, 55, 0.1)',
                                                    borderRadius: '4px',
                                                }}>
                                                    <span style={{ color: '#D4AF37', fontSize: '13px' }}>
                                                        {chapters.length} Section(s)
                                                    </span>
                                                    <span style={{ color: '#808080', fontSize: '13px' }}>
                                                        {chapters.reduce((acc, ch) => acc + ch.wordCount, 0).toLocaleString()} words
                                                    </span>
                                                </div>
                                                <div style={{ maxHeight: '350px', overflowY: 'auto' }}>
                                                    {chapters.map((chapter) => (
                                                        <div key={chapter.id} style={{
                                                            padding: '15px',
                                                            background: 'rgba(25, 25, 35, 0.6)',
                                                            border: '1px solid rgba(80, 80, 100, 0.2)',
                                                            borderRadius: '4px',
                                                            marginBottom: '8px',
                                                            display: 'flex',
                                                            justifyContent: 'space-between',
                                                            alignItems: 'center',
                                                        }}>
                                                            <span style={{ color: '#E0E0E0', fontSize: '14px' }}>
                                                                {chapter.title}
                                                            </span>
                                                            <span style={{ color: '#707070', fontSize: '11px' }}>
                                                                {chapter.wordCount.toLocaleString()} words
                                                            </span>
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                        ) : (
                                            <div style={{ textAlign: 'center', padding: '50px 20px', color: '#505060' }}>
                                                <div style={{ fontSize: '40px', marginBottom: '15px', opacity: 0.5 }}>üìë</div>
                                                <p style={{ fontSize: '13px' }}>Upload a document to see structure</p>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* ==================== TEMPLATES TAB ==================== */}
                        {activeTab === 'template' && (
                            <div style={{ animation: 'fadeIn 0.5s ease' }}>
                                <h2 style={{
                                    fontSize: '20px',
                                    letterSpacing: '4px',
                                    textTransform: 'uppercase',
                                    color: '#D4AF37',
                                    marginBottom: '30px',
                                    fontWeight: '400',
                                    textAlign: 'center',
                                }}>
                                    Select Premium Template
                                </h2>

                                <div style={{
                                    display: 'grid',
                                    gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',
                                    gap: '20px',
                                }}>
                                    {templates.map(template => (
                                        <div
                                            key={template.id}
                                            onClick={() => {
                                                setSelectedTemplate(template.id);
                                                showNotification(`${template.name} selected!`);
                                            }}
                                            style={{
                                                background: selectedTemplate === template.id 
                                                    ? 'linear-gradient(145deg, rgba(212, 175, 55, 0.15) 0%, rgba(20, 20, 28, 0.95) 100%)'
                                                    : 'linear-gradient(145deg, rgba(20, 20, 28, 0.9) 0%, rgba(15, 15, 22, 0.95) 100%)',
                                                border: selectedTemplate === template.id 
                                                    ? '2px solid rgba(212, 175, 55, 0.6)'
                                                    : '1px solid rgba(80, 80, 100, 0.2)',
                                                borderRadius: '8px',
                                                padding: '25px',
                                                cursor: 'pointer',
                                                position: 'relative',
                                            }}
                                        >
                                            {selectedTemplate === template.id && (
                                                <div style={{
                                                    position: 'absolute',
                                                    top: '12px',
                                                    right: '12px',
                                                    width: '22px',
                                                    height: '22px',
                                                    background: 'linear-gradient(135deg, #D4AF37, #AA8C2C)',
                                                    borderRadius: '50%',
                                                    display: 'flex',
                                                    alignItems: 'center',
                                                    justifyContent: 'center',
                                                    color: '#0D0D0D',
                                                    fontSize: '12px',
                                                }}>
                                                    ‚úì
                                                </div>
                                            )}
                                            
                                            <div style={{
                                                width: '50px',
                                                height: '70px',
                                                background: template.gradient,
                                                borderRadius: '4px',
                                                marginBottom: '15px',
                                                boxShadow: `0 8px 25px ${template.color}33`,
                                            }} />
                                            
                                            <h3 style={{ fontSize: '16px', color: '#E0E0E0', marginBottom: '6px', fontWeight: '400' }}>
                                                {template.name}
                                            </h3>
                                            <p style={{ fontSize: '12px', color: '#707070', margin: 0 }}>
                                                {template.desc}
                                            </p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {/* ==================== PREVIEW TAB ==================== */}
                        {activeTab === 'preview' && (
                            <div style={{ animation: 'fadeIn 0.5s ease' }}>
                                {/* Preview Mode Selector - NOW WORKING */}
                                <div style={{
                                    display: 'flex',
                                    justifyContent: 'center',
                                    marginBottom: '35px',
                                }}>
                                    <div style={{
                                        display: 'flex',
                                        gap: '8px',
                                        background: 'rgba(20, 20, 28, 0.8)',
                                        padding: '8px',
                                        borderRadius: '8px',
                                    }}>
                                        {[
                                            { id: 'cover', label: 'Cover' },
                                            { id: 'interior', label: 'Interior' },
                                            { id: 'fullbook', label: 'Full Book' }
                                        ].map(mode => (
                                            <button 
                                                key={mode.id}
                                                onClick={() => setPreviewMode(mode.id)}
                                                style={{
                                                    padding: '12px 24px',
                                                    background: previewMode === mode.id 
                                                        ? 'linear-gradient(135deg, #D4AF37 0%, #AA8C2C 100%)'
                                                        : 'transparent',
                                                    border: 'none',
                                                    borderRadius: '4px',
                                                    color: previewMode === mode.id ? '#0D0D0D' : '#808080',
                                                    fontSize: '12px',
                                                    letterSpacing: '1px',
                                                    textTransform: 'uppercase',
                                                    cursor: 'pointer',
                                                    fontFamily: 'inherit',
                                                    fontWeight: previewMode === mode.id ? '600' : '400',
                                                    transition: 'all 0.3s ease',
                                                }}
                                            >
                                                {mode.label}
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                {/* COVER Preview */}
                                {previewMode === 'cover' && (
                                    <div style={{
                                        display: 'flex',
                                        flexDirection: 'column',
                                        alignItems: 'center',
                                        animation: 'fadeIn 0.3s ease',
                                    }}>
                                        <h3 style={{ color: '#D4AF37', fontSize: '14px', letterSpacing: '3px', textTransform: 'uppercase', marginBottom: '25px' }}>
                                            Cover Preview
                                        </h3>
                                        <BookCover size="large" />
                                    </div>
                                )}

                                {/* INTERIOR Preview */}
                                {previewMode === 'interior' && (
                                    <div style={{
                                        display: 'flex',
                                        justifyContent: 'center',
                                        animation: 'fadeIn 0.3s ease',
                                    }}>
                                        <div style={{
                                            width: '100%',
                                            maxWidth: '700px',
                                            background: '#FAF8F5',
                                            borderRadius: '4px',
                                            padding: '50px 60px',
                                            boxShadow: '0 20px 60px rgba(0,0,0,0.4)',
                                            fontFamily: 'Georgia, serif',
                                        }}>
                                            <p style={{ fontSize: '10px', color: '#888', textAlign: 'center', marginBottom: '30px', letterSpacing: '1px' }}>
                                                12
                                            </p>
                                            <p style={{ fontSize: '14px', color: '#2A2A2A', lineHeight: '1.9', textAlign: 'justify' }}>
                                                <span style={{
                                                    float: 'left',
                                                    fontSize: '52px',
                                                    lineHeight: '0.8',
                                                    paddingRight: '10px',
                                                    color: '#D4AF37',
                                                    fontFamily: "'Playfair Display', Georgia, serif",
                                                }}>T</span>
                                                he morning light filtered through the ancient windows, casting long shadows across the weathered floorboards. She stood there, breath held, knowing that the next few moments would change everything. The letter trembled in her hands as she read the words that would alter the course of her life forever.
                                            </p>
                                            <p style={{ fontSize: '14px', color: '#2A2A2A', lineHeight: '1.9', textAlign: 'justify', marginTop: '20px' }}>
                                                Years of searching had led to this single moment. A lifetime of questions waiting to be answered. The room fell silent as she turned the page, her heart racing with anticipation.
                                            </p>
                                            <div style={{ textAlign: 'center', marginTop: '40px', color: '#D4AF37', fontSize: '18px' }}>
                                                ‚ùß
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {/* FULL BOOK Preview */}
                                {previewMode === 'fullbook' && (
                                    <div style={{
                                        display: 'flex',
                                        justifyContent: 'center',
                                        gap: '30px',
                                        flexWrap: 'wrap',
                                        animation: 'fadeIn 0.3s ease',
                                    }}>
                                        {/* Cover */}
                                        <div style={{ textAlign: 'center' }}>
                                            <p style={{ color: '#707070', fontSize: '11px', letterSpacing: '2px', textTransform: 'uppercase', marginBottom: '15px' }}>Cover</p>
                                            <BookCover size="small" />
                                        </div>
                                        
                                        {/* Interior Spread */}
                                        <div style={{ textAlign: 'center' }}>
                                            <p style={{ color: '#707070', fontSize: '11px', letterSpacing: '2px', textTransform: 'uppercase', marginBottom: '15px' }}>Interior Spread</p>
                                            <div style={{
                                                display: 'flex',
                                                boxShadow: '0 20px 50px rgba(0,0,0,0.5)',
                                                borderRadius: '4px',
                                                overflow: 'hidden',
                                            }}>
                                                {/* Left Page */}
                                                <div style={{
                                                    width: '200px',
                                                    height: '300px',
                                                    background: '#FAF8F5',
                                                    padding: '30px 25px',
                                                    borderRight: '1px solid #E5E0D8',
                                                    fontFamily: 'Georgia, serif',
                                                }}>
                                                    <p style={{ fontSize: '8px', color: '#888', textAlign: 'center', marginBottom: '15px' }}>12</p>
                                                    <p style={{ fontSize: '10px', color: '#2A2A2A', lineHeight: '1.7', textAlign: 'justify' }}>
                                                        <span style={{ float: 'left', fontSize: '28px', lineHeight: '0.8', paddingRight: '5px', color: '#D4AF37' }}>T</span>
                                                        he morning light filtered through the windows. She stood there, breath held, knowing everything would change.
                                                    </p>
                                                </div>
                                                
                                                {/* Right Page */}
                                                <div style={{
                                                    width: '200px',
                                                    height: '300px',
                                                    background: '#FAF8F5',
                                                    padding: '30px 25px',
                                                    fontFamily: 'Georgia, serif',
                                                }}>
                                                    <p style={{ fontSize: '10px', color: '#2A2A2A', lineHeight: '1.7', textAlign: 'justify' }}>
                                                        Years of searching had led to this moment. A lifetime of questions waiting to be answered.
                                                    </p>
                                                    <div style={{ textAlign: 'center', marginTop: '25px', color: '#D4AF37', fontSize: '12px' }}>‚ùß</div>
                                                    <p style={{ fontSize: '8px', color: '#888', textAlign: 'center', marginTop: '60px' }}>13</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {/* Export Buttons */}
                                <div style={{
                                    display: 'flex',
                                    justifyContent: 'center',
                                    gap: '12px',
                                    marginTop: '50px',
                                    flexWrap: 'wrap',
                                }}>
                                    <button 
                                        onClick={() => exportEbook('pdf')}
                                        style={{
                                            padding: '14px 28px',
                                            background: 'transparent',
                                            border: '1px solid rgba(212, 175, 55, 0.4)',
                                            color: '#D4AF37',
                                            fontSize: '11px',
                                            letterSpacing: '2px',
                                            textTransform: 'uppercase',
                                            cursor: 'pointer',
                                            fontFamily: 'inherit',
                                        }}
                                    >
                                        Download PDF
                                    </button>
                                    <button 
                                        onClick={() => exportEbook('epub')}
                                        style={{
                                            padding: '14px 28px',
                                            background: 'transparent',
                                            border: '1px solid rgba(212, 175, 55, 0.4)',
                                            color: '#D4AF37',
                                            fontSize: '11px',
                                            letterSpacing: '2px',
                                            textTransform: 'uppercase',
                                            cursor: 'pointer',
                                            fontFamily: 'inherit',
                                        }}
                                    >
                                        Export EPUB
                                    </button>
                                    <button 
                                        onClick={() => exportEbook('kindle')}
                                        style={{
                                            padding: '14px 28px',
                                            background: 'linear-gradient(135deg, #D4AF37 0%, #AA8C2C 100%)',
                                            border: 'none',
                                            color: '#0D0D0D',
                                            fontSize: '11px',
                                            letterSpacing: '2px',
                                            textTransform: 'uppercase',
                                            cursor: 'pointer',
                                            fontFamily: 'inherit',
                                            fontWeight: '600',
                                        }}
                                    >
                                        Publish to Kindle
                                    </button>
                                </div>
                            </div>
                        )}
                    </main>

                    {/* Footer */}
                    <footer style={{
                        padding: '30px',
                        borderTop: '1px solid rgba(212, 175, 55, 0.1)',
                        textAlign: 'center',
                        marginTop: '40px',
                    }}>
                        <p style={{ fontSize: '11px', letterSpacing: '2px', color: '#404040', textTransform: 'uppercase' }}>
                            Premium Ebook Studio ‚Ä¢ Crafted for Professional Authors
                        </p>
                    </footer>
                </div>
            );
        };

        // Render
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PremiumEbookStudio />);
    </script>
</body>
</html>
